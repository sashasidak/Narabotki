# Проект для кроссплатформенного тестирования мобильных приложений


## Правило наименования для классов

**Название блока в чек-листе регресса**


## Технологии

+ **Appium** - фреймворк для тестирования моб приложений
+ **Java** - обертка IOSdriver
+ **Visual-Regression-Tracker** - тестирование UI компонентов с помощью сравнения скриншотов
Инструкция по установке: 
https://github.com/Visual-Regression-Tracker/Visual-Regression-Tracker



## Как начать писать тесты
1. [Установить appium и поставить все доп. инструменты](https://krishnachetan.medium.com/setup-appium-on-mac-1e06f1178427)
2. Запустить AppiumServer
3. В файле TestBase прописать данные запущеных девайсов
4. Установить приложение на девайс/симулятор
5. Описать экран и методы по взаимодействию с элементами
6. Вызвать соответствующие методы в тестовом классе
7. Каждый тестовый клас должен включать в себя:
  - @Listeners(TestListener::class) - для добавления скринов в allure report
//ToDo не забыть вернуть в этот проект
  - @Test(description = "Название согласно ЧЛ")
  - @Feature("Фича согласно ЧЛ")


# Troubleshooting

+ [Решение проблем при установке appium](https://docs.google.com/document/d/1xO9-k0CpJWoWucQSdq5WLUXTbtx5i8zH_Nt8ojPzubY/edit)
//ToDo попросить кого-то скопипастить мой файлик 

# Установка стабов
//ToDo прикрутить в будующем

Вся логика прописана в классе ```WireMockHelper```. Для того что бы работали стабы необходимо у настройках приложения
установить кастомный урл приложения. Можно сделать руками или через класс ```OnboardingTest```, метод ```setStub()```
В самом базовом виде стаб устанавливается так:

## ```buildMock() {```

### ```endpoint = "cardslist"``` - конечная точка входа

### ```requestHTTPMethod = Method.GET``` - метод. По умолчанию проставляется Get

### ```setResponseFromFile = "cardslist-empty.json"``` - назввание файла из которого нужно взять ответ. Долен лежать в пакете ```stubs```

## ```}```

Так же есть методы:
```setResponseFromFileWithAuthData``` - на вход принимает название файла с ответом и имя пользователя. Этот служит для
получения актуальных сесионных данных клиента (что бы небыло дизавторизации), которого передали в метод. Использовать
только для авторизации и продления сессии.
```authEndpoint``` - только эндпоинты авторизации
```requestContainsFullJson``` - полный json запроса
```requestContainsJson``` - часть json запроса



  
  
  
